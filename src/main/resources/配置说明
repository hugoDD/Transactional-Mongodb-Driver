1. if your working db already has datas, you must do this:

db.XX.update({}, {$set:{__s_.__s_stat:2}})

 very important
  1）your connection must can see the DB named “transaction”
  2）the user with credential must can readWrite DB-“transaction”
  3）if your collection has unique index, 
     i.e. 
     Collection A has index {name=test_unique, field=test}
     you must set index name=test_unique to {name=test_unique, field=[test, unique_]}
     it means: any unique index already exists, must modify it that add a field named "unique_" to the index
  
  
  
  
2.config SidistranMongoClient int Spring

can not use “mongo” label，you should config a <bean id="mongo" class="SidistranMongoClient"> instead



3.demo:

   SidistranMongoClient mongo = new SidistranMongoClient(serverAddress, credentials);

   MongoTanscationManager tanscationManager = new MongoTanscationManager(mongo);//this is singleton

   tanscationManager.begin();//begin a transaction

   do_with(mongo);

   tanscationManager.commit();//commit it

   tanscationManager.close();//you must close the MongoTanscationManager if won't use anymore
   mongo.close();